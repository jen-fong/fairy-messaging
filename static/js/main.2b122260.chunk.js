(this["webpackJsonpfairy-messaging"]=this["webpackJsonpfairy-messaging"]||[]).push([[0],{38:function(e,a,t){e.exports=t(50)},47:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),c=t.n(l),s=t(12),o=t(11),m=(t(47),t(14)),i=t(13),u=function(e){return Object.keys(e.messageBoard.postsById).map((function(a){return e.messageBoard.postsById[a]})).sort((function(e,a){return e.createdAt-a.createdAt}))},d=t(26),E=t(37),p=t(35);function h(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",t="P".concat(a,"p");return Object(p.a)(e,t)}function v(e){var a=e.post,t=e.onClick,n=h(a.createdAt," @");return r.a.createElement(d.a,{"data-testid":"messageBoardPost",onClick:function(){return t(a.id)},className:"mt-3 message-board-post"},r.a.createElement(d.a.Body,{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"message-board-post-content"},r.a.createElement("header",null,r.a.createElement("h4",{className:"message-board-post-title"},a.title)),r.a.createElement("span",null,"Posted By: ",a.author),r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",null,a.comments.length," Comments"),r.a.createElement("span",{className:"ml-auto mr-5"},"Last Update: ",n))),r.a.createElement("div",{className:"text-black-50 mt-4"},r.a.createElement(E.a,{size:32}))))}function b(){var e=Object(m.f)(),a=Object(s.c)(u),t=function(a){e.push("/posts/".concat(a))};return r.a.createElement("section",{className:"message-board"},r.a.createElement("header",{className:"text-center"},r.a.createElement("h2",null,"The Fairygodboss Message Board")),r.a.createElement("div",{className:"message-board-posts"},a.length?a.map((function(e){return r.a.createElement(v,{key:e.id,post:e,onClick:t})})):r.a.createElement("div",{className:"message-board-posts-none"},"There are currently no posts...add one!")),r.a.createElement("div",{className:"d-flex flex-row-reverse mt-3"},r.a.createElement(o.b,{to:"/posts/create"},r.a.createElement(i.a,{variant:"primary"},"Create New Post"))))}var g=t(5),f=t(20),y=t(15),N=t(36),O=t(52),j=function(e){var a=e.initialValues,t=void 0===a?{}:a,n=e.onSubmit,l=r.a.useState(t),c=Object(N.a)(l,2),s=c[0],o=c[1];return{values:s,handleChange:function(e){var a=e.target,t=a.name,n=a.value;o(Object(y.a)(Object(y.a)({},s),{},Object(f.a)({},t,n)))},handleSubmit:function(e){var a=new Date;e.preventDefault(),n(Object(y.a)(Object(y.a)({},s),{},{id:Object(O.a)(),createdAt:a})),o(t)}}};function C(e){var a=e.onAddComment,t=j({initialValues:{name:"",message:""},onSubmit:function(e){return a(e)}}),n=t.values,l=t.handleSubmit,c=t.handleChange;return r.a.createElement(g.a,{onSubmit:l},r.a.createElement(g.a.Group,{controlId:"commentName"},r.a.createElement(g.a.Label,null,"Reply Name"),r.a.createElement(g.a.Control,{value:n.name,name:"name",onChange:c,type:"text",placeholder:"Enter name",required:!0})),r.a.createElement(g.a.Group,{controlId:"commentMessage"},r.a.createElement(g.a.Label,null,"Reply Message"),r.a.createElement(g.a.Control,{value:n.message,name:"message",onChange:c,placeholder:"Enter message",as:"textarea",rows:"3",required:!0})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(i.a,{variant:"primary",type:"submit"},"Submit")))}function w(){var e=Object(m.g)().id,a=Object(s.c)((function(a){return a.messageBoard.postsById[e]})),t=h(a.createdAt," "),n=Object(s.b)();return a?r.a.createElement("section",{className:"view-post-container"},r.a.createElement("header",{className:"d-flex"},r.a.createElement("div",{className:"mr-auto"},r.a.createElement("h2",{className:"m-0"},a.title),r.a.createElement("div",null,"By: ",a.author," on ",t)),r.a.createElement("div",{className:"mt-3"},r.a.createElement(o.b,{to:"/"},r.a.createElement(i.a,{variant:"secondary"},"Back")))),r.a.createElement("div",{className:"mt-3 view-post-message"},a.message),r.a.createElement("div",{className:"view-post-comments"},r.a.createElement("h5",null,"Responses"),a.comments.length?a.comments.map((function(e){return r.a.createElement("div",{className:"ml-4 mr-4 pb- view-post-comment",key:e.id},r.a.createElement("p",{className:"font-weight-bold"},e.name),r.a.createElement("p",null,e.message))})):r.a.createElement("div",null,r.a.createElement("p",{className:"text-secondary"},"There are no comments yet"))),r.a.createElement("div",null,r.a.createElement(C,{onAddComment:function(a){n(function(e){return{type:"ADD_POST_COMMENT",payload:e}}({id:e,comment:a}))}}))):r.a.createElement("section",null,"Post not found")}function B(){var e=Object(s.b)(),a=Object(m.f)(),t=j({initialValues:{title:"",message:"",author:""},onSubmit:function(t){e({type:"ADD_POST",payload:t}),a.push("/")}}),n=t.values,l=t.handleSubmit,c=t.handleChange;return r.a.createElement("section",null,r.a.createElement("header",{className:"text-center mb-4"},r.a.createElement("h2",null,"Create a new post")),r.a.createElement(g.a,{onSubmit:l},r.a.createElement(g.a.Group,{controlId:"postTitle"},r.a.createElement(g.a.Label,null,"Title"),r.a.createElement(g.a.Control,{value:n.title,name:"title",onChange:c,type:"text",placeholder:"Enter title",required:!0})),r.a.createElement(g.a.Group,{controlId:"postMessage"},r.a.createElement(g.a.Label,null,"Message"),r.a.createElement(g.a.Control,{placeholder:"Enter message",value:n.message,name:"message",onChange:c,as:"textarea",rows:"3",required:!0})),r.a.createElement(g.a.Group,{controlId:"postAuthor"},r.a.createElement(g.a.Label,null,"Name"),r.a.createElement(g.a.Control,{value:n.author,onChange:c,name:"author",type:"text",placeholder:"Enter your name",required:!0})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(o.b,{to:"/"},r.a.createElement(i.a,{className:"mr-3",variant:"secondary"},"Cancel")),r.a.createElement(i.a,{variant:"primary",type:"submit"},"Submit"))))}var x=function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/posts/create"},r.a.createElement(B,null)),r.a.createElement(m.a,{path:"/posts/:id"},r.a.createElement(w,null)),r.a.createElement(m.a,{path:"/"},r.a.createElement(b,null))))},S=t(16),k=t(33),A=t(34),I={postsById:{}},T=Object(S.combineReducers)({messageBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1?arguments[1]:void 0;return Object(A.a)(e,(function(e){switch(a.type){case"ADD_POST_COMMENT":var t=a.payload,n=t.id,r=t.comment;e.postsById[n].comments.push(r);break;case"ADD_POST":var l=a.payload.id;e.postsById[l]=Object(y.a)(Object(y.a)({},a.payload),{},{comments:[]});break;default:return e}}))}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=Object(S.createStore)(T,Object(k.composeWithDevTools)());c.a.render(r.a.createElement(s.a,{store:D},r.a.createElement(o.a,null,r.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.2b122260.chunk.js.map